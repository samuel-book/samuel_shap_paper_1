Search.setIndex({docnames:["introduction/intro","xgb/xgb_combined_fit_accuracy","xgb/xgb_combined_shap"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":5,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.intersphinx":1,sphinx:56},filenames:["introduction/intro.md","xgb/xgb_combined_fit_accuracy.ipynb","xgb/xgb_combined_shap.ipynb"],objects:{},objnames:{},objtypes:{},terms:{"0":1,"00":2,"000000":1,"000211":1,"000930":1,"0020":1,"002083":1,"002541":1,"0028":1,"003159":1,"003468":2,"003548":2,"004993":2,"005120":1,"005516":1,"005949":1,"006034":1,"006103":1,"006140":1,"006193":1,"006210":1,"006290":1,"006512":1,"006597":1,"006698":1,"007076":1,"007423":1,"007428":1,"007514":1,"008222":1,"008323":1,"008789":1,"008817":1,"008986":1,"009764":1,"01":1,"010317":2,"018297":1,"019013":2,"019129":1,"020129":1,"021495":1,"022319":2,"026022":2,"026189":1,"028417":1,"033955":2,"033990":1,"042966":1,"043506":1,"046502":1,"048281":1,"049385":1,"054135":1,"055520":2,"055996":1,"061582":1,"07":1,"086348":1,"089152":1,"09":1,"097282":1,"098505":1,"098856":1,"099640":1,"1":[1,2],"10":1,"100":1,"1000":1,"101168":1,"102390":1,"11":1,"111":[1,2],"12":[1,2],"120929":2,"121":1,"122":1,"13":1,"14":1,"144034":2,"145699":1,"15":1,"158877":1,"16":1,"17":1,"17428":2,"17759":2,"18":1,"2":[1,2],"211201":1,"215998":2,"217247":2,"219501":2,"225016":1,"241806":1,"245430":1,"247523":1,"25":1,"250":1,"2500":1,"250179":1,"250435":2,"253425":1,"254050":1,"256186":1,"263977":1,"267865":1,"272248":1,"277878":1,"281226":1,"283029":1,"285021":1,"285387":1,"290557":1,"291305":1,"291907":1,"292528":1,"292544":1,"292601":1,"293955":2,"295472":1,"295529":1,"295714":1,"295737":1,"295867":1,"295963":1,"3":[1,2],"300":[1,2],"30k":1,"33":1,"348873":1,"352295":1,"354980":1,"3f":[1,2],"4":[1,2],"400":2,"42":[1,2],"45":2,"450098":1,"462118":1,"476282":1,"497961":2,"4f":1,"5":1,"50":1,"500":1,"5000":1,"528760":1,"537882":1,"549680":1,"552129":1,"556619":1,"6":[1,2],"64":1,"645020":1,"652007":1,"660212":1,"660230":1,"691105":2,"7":[1,2],"70":1,"700":1,"704037":1,"704133":1,"704263":1,"704286":1,"704471":1,"704528":1,"707399":1,"707456":1,"707472":1,"708093":1,"708695":1,"709443":1,"736023":1,"743814":1,"745950":1,"746575":1,"746863":1,"749592":1,"749665":1,"749821":1,"75":1,"752462":1,"753417":1,"753456":1,"754570":1,"754674":1,"755461":1,"758194":1,"758687":1,"759595":1,"76":1,"760465":1,"761969":1,"762849":1,"765781":1,"793757":1,"8":[1,2],"80":1,"84":1,"840981":1,"841123":1,"8475":1,"85":1,"852734":1,"852799":1,"852968":1,"853":[1,2],"855":[1,2],"855397":1,"855843":1,"858":[1,2],"858044":1,"860":[1,2],"860007":1,"89":1,"893":1,"893047":1,"893895":1,"894277":1,"895521":1,"897405":1,"897610":1,"898744":2,"898832":1,"898981":1,"9":[1,2],"90":1,"900360":1,"901144":1,"901495":1,"902718":1,"909058":1,"924":1,"9240":1,"929281":1,"943":1,"953866":2,"98":2,"980871":1,"case":[1,2],"class":[1,2],"float":1,"new":1,"return":1,"true":[1,2],A:[1,2],For:[1,2],One:[1,2],The:[1,2],There:2,To:2,_waterfal:2,a1:1,a2:1,ab:2,abov:1,abs_mean_shap:2,acc:1,accur:2,accuraci:2,accuracy_result:1,achiev:1,across:1,add:1,add_subplot:[1,2],afanticoagulent_y:[1,2],afanticoagulentdoac_y:1,agnost:2,align:1,all:2,allow:2,along:2,alpha:1,altern:2,an:2,anaconda:2,anchor:1,ani:2,anoth:1,anticoagul:1,appar:2,append:[1,2],appli:1,ar:[1,2],arang:[1,2],area:1,arrai:1,arriv:1,ascend:[1,2],assign:1,atrialfibrillation_y:1,auc:1,averag:1,avoid:2,ax1:[1,2],ax2:1,ax3:1,ax:[1,2],axi:[1,2],b1:1,b2:1,bar:1,base:2,bbox:1,bbox_inch:2,been:[1,2],befor:1,being:1,bestlanguag:2,between:1,bin:1,black:[1,2],blue:1,book:2,both:2,box:2,brain:1,bug:2,build:2,calculate_accuraci:1,calculate_shap_valu:2,calibarion:1,call:1,can:1,center:1,chanc:1,chapter:2,chart:1,chri:2,christophm:2,classif:[1,2],classifici:1,closer:1,cmap:2,collect:1,color:1,colour:2,column:[1,2],combin:1,combined_fit_xgb_k_fold:1,combined_model:1,combined_xgb_model_:2,compare_shap_import:2,comparison:1,complet:2,concat:[1,2],construct:1,convert:1,correct:[1,2],correctli:1,cost:2,count:1,csv:[1,2],custom_lin:1,cutoff:1,darkblu:1,data_loc:[1,2],datafram:[1,2],def:1,defin:[1,2],describ:[1,2],detail:2,df:[1,2],dict:1,dictionari:1,digit:1,disadvantag:2,displai:1,distort:2,down:2,dpi:[1,2],drop:[1,2],dump:2,dure:[1,2],e:2,each:1,easier:2,edgecolor:1,effect:2,els:2,en:2,encod:[1,2],end:1,env:2,establish:2,estim:2,even:2,examin:1,exampl:2,excel:2,exist:[1,2],extend:1,f1:1,f:[1,2],facecolor:1,fail:2,fals:[1,2],false_neg:1,false_negative_r:1,false_posit:1,false_positive_r:1,feat:2,feat_to_show:2,feature_import:[1,2],feature_importances_:[1,2],feature_nam:2,fig:[1,2],figsiz:[1,2],figur:[1,2],file:2,filehandl:2,filenam:[1,2],filterwarn:[1,2],find:[1,2],first:[1,2],fit_model:2,five:1,focu:1,forest:[1,2],format:[1,2],found:2,fpr:1,frac:1,fraction:1,fraction_correct:1,fraction_posit:1,fraction_result:1,from:[1,2],g:2,gener:2,get:1,get_cmap:2,get_dummi:[1,2],get_intersect:1,get_xticklabel:1,github:2,give:2,good:[1,2],greater:1,grid:[1,2],groupbi:1,h:1,ha:2,harmon:1,have:2,head:[1,2],here:2,homogen:1,hospit:[1,2],hospital_result:1,hot:[1,2],how:2,hstack:1,html:2,http:2,i:[1,2],id:1,ignor:[1,2],iloc:1,imag:1,importance_violin:2,importances_df:2,importances_kfold:2,importances_summari:2,improv:1,includ:1,inclusiong:2,increas:1,increment:1,index:[1,2],indic:2,individu:2,inf:1,influenc:2,inform:2,initi:2,inplac:[1,2],instal:2,instanti:1,interpret:2,intersetct:1,io:2,its:2,jpg:[1,2],k_fold:[1,2],k_fold_accuraci:1,k_fold_auc:1,k_fold_fpr:1,k_fold_result:1,k_fold_sensit:1,k_fold_shap_valu:2,k_fold_shap_values_extend:2,k_fold_specif:1,k_fold_threshold:1,k_fold_tpr:1,keep:[1,2],kei:[1,2],kfold_5fold:[1,2],kfold_result:1,known:1,l1:1,l2:1,label:[1,2],last:1,last_id_sens_greater_spec:1,latest:2,least:[1,2],left_index:2,legend:1,len:[1,2],level:2,lib:2,librari:2,like:2,likelihood:1,line2d:1,linear_model:1,linearregress:1,linestyl:1,list:[1,2],loc:[1,2],locat:2,location_high_prob:2,location_low_prob:2,log:2,look:2,loop:1,lot:2,lower:[1,2],lw:1,made:1,mai:2,makedir:1,mani:2,margin:1,mask:1,matplotlib:[1,2],max:[1,2],max_displai:2,max_training_s:1,maximum:1,mean:1,mean_abs_shap:2,mean_abs_shap_summari:2,mean_auc:1,mean_intersect:1,mean_results_by_hosp:1,mean_shap:2,measur:2,median:2,merg:2,method:2,metric:1,min:[1,2],minut:2,ml:2,model_kfold:2,model_output:2,molner:2,more:2,most:2,much:2,n:1,neg:1,negative_likelihood:1,negative_predictive_valu:1,network:2,neural:2,nihss:1,nipy_spectr:2,nmean:1,nomin:1,notebook:[1,2],np:[1,2],number:1,numpi:[1,2],ob:1,observed_neg:1,observed_negative_r:1,observed_posit:1,observed_positive_r:1,observed_result:1,odd:2,off:[1,2],one:1,ones:1,onli:1,onset:1,open:2,orang:1,os:1,otherwis:2,output:2,overal:[1,2],p:2,pad:1,pad_inch:2,panda:[1,2],parallel:1,part:2,particular:2,pass:1,path:1,patient:1,pd:[1,2],peopl:2,perform:1,pickl:2,pip:2,pl:2,plot:1,plt:[1,2],po:1,point:[1,2],poorli:2,posit:[1,2],positive_likelihood:1,positive_predictive_valu:1,pr:1,precis:1,predict_proba:[1,2],predicted_class:1,predicted_neg:1,predicted_negative_r:1,predicted_posit:1,predicted_positive_r:1,predicted_proba:1,predicted_result:1,prefix:[1,2],preload:2,present:1,previous:[1,2],print:[1,2],prob:1,prob_result:1,proba:1,probabl:1,process:2,prodict:1,proport:1,provid:2,psotiv:1,ptrobabl:2,push:2,put:1,py:2,pyplot:[1,2],python3:2,r2_score:1,r:1,r_squar:1,random:[1,2],rang:[1,2],rank:2,rankin:1,ratio:2,raw:2,rb:2,read_csv:[1,2],readthedoc:2,recal:1,record:1,red:1,reduc:1,refin:1,relationship:1,reliability_col:1,reliability_summari:1,reliabl:1,renam:2,repeat:1,replac:2,replic:[1,2],replicate_accuraci:1,replicta:2,requir:2,reshap:1,results_accuraci:1,results_all_accuraci:1,results_training_s:1,right:[1,2],right_index:2,roc:1,roc_auc:1,roc_curv:1,rotat:[1,2],rotation_mod:1,run:1,s1ageonarriv:2,s1onsetdatetype_strok:[1,2],s1onsettimetype_precis:[1,2],s1onsettoarrival_min:2,s2brainimagingtime_min:[1,2],s2nihssarriv:[1,2],s2rankinbeforestrok:[1,2],s2stroketype_infarct:[1,2],s2thrombolysi:[1,2],s:[1,2],same:1,sampl:1,samuel2:2,save:2,saved_model:2,savefig:[1,2],scatter:[1,2],score:1,sd:1,sd_auc:1,sd_intersect:1,search:2,second:1,see:2,seed:[1,2],sen:1,senit:1,set:[1,2],set_titl:1,set_xlabel:[1,2],set_xlim:[1,2],set_xscal:2,set_xtick:[1,2],set_xticklabel:[1,2],set_ylabel:[1,2],set_ylim:[1,2],set_yscal:2,setp:1,shap_import:2,shap_importance_correl:2,shap_valu:2,shap_values_extend:2,shap_values_extended_xgb_:2,shap_values_mean:2,shap_values_mean_kfold:2,shap_violin:2,shape:1,share:1,show:1,showmedian:2,shown:2,simultan:1,singl:1,site:2,size:1,sklearn:1,sleep:[1,2],slr:1,so:2,someon:2,sort:1,sort_index:2,sort_valu:[1,2],spec:1,split:[1,2],squar:1,squash:2,stack:1,std:1,step:1,store:[1,2],stratifi:[1,2],stroketeam:[1,2],stroketia_y:[1,2],sum:1,summari:1,summaris:1,summary_plot:2,surviv:1,t:[1,2],take:1,team:2,team_fajkd7118x:1,team_gkoni0110i:[1,2],team_hynbh3271l:1,team_iazkg9244a:1,team_kzkez2257z:1,team_lechf1024t:1,team_lgnpk4211w:1,team_mhmyl4920b:[1,2],team_ntpqz0829k:1,team_qwkra8499d:1,team_tkrkh4920c:1,team_tpxye0168d:1,team_vkkdd9172t:1,team_xkawn3771u:1,test:[1,2],test_:[1,2],test_data:[1,2],test_hosp:1,text:1,than:1,thei:2,thi:[1,2],those:[1,2],though:2,threshold:1,through:1,tick:1,tidi:[1,2],tight:2,tight_layout:1,time:1,to_csv:1,top:1,top_10_import:2,top_10_shap:2,tpr:1,train:[1,2],train_:[1,2],train_data:[1,2],train_hosp:1,train_siz:1,tree:2,treeexplain:2,true_neg:1,true_negative_r:1,true_posit:1,true_positive_r:1,true_rat:1,turn:[1,2],twinx:1,two:1,type:[1,2],typic:2,under:1,understand:2,up:[1,2],upper:1,us:1,val:1,valu:1,ve:1,verbos:[1,2],violinplot:2,vs:1,vstack:1,wai:2,warn:[1,2],wb:2,we:2,weight:[1,2],when:2,where:[1,2],which:2,white:1,who:1,width:2,x:[1,2],x_comparis:1,x_jitter:2,x_test:[1,2],x_test_hosp:[1,2],x_test_kfold:2,x_train:[1,2],x_train_hosp:[1,2],x_train_kfold:2,xgb_beeswarm:2,xgb_combined_fit_feature_import:1,xgb_combined_fit_observed_predicted_r:1,xgb_combined_fit_roc_sens_spec:1,xgb_combined_learning_curv:1,xgb_single_fit_feature_weights_bar:1,xgb_single_reli:1,xgb_waterfall_high:2,xgb_waterfall_high_prob:2,xgb_waterfall_low:2,xgb_waterfall_low_prob:2,xgbclassifi:[1,2],xgboost:[],y:[1,2],y_class:1,y_comparis:1,y_pred:[1,2],y_pred_kfold:2,y_pred_test:1,y_prob:[1,2],y_prob_kfold:2,y_test:[1,2],y_test_kfold:2,y_train:[1,2],y_train_kfold:2,z:1},titles:["Introduction placeholder","XGBoost Classifier - Measuring accuracy of a model fitted to all stroke teams together","Explaining XGBoost model predictions with Shapley values"],titleterms:{"0":2,"10":2,"40":2,"5":2,"function":1,"import":[1,2],accuraci:1,across:2,actual:1,aim:1,all:1,analysi:2,assess:1,averag:2,beeswarm:2,between:2,boost:2,calcul:1,calibr:1,characterist:1,classifi:1,collat:1,compar:[1,2],confid:1,consist:2,consit:2,creat:1,cross:1,curv:1,data:[1,2],decis:2,each:2,examin:2,explain:2,featur:[1,2],fit:[1,2],fold:[1,2],folder:1,further:2,get:2,ha:1,high:[1,2],identifi:1,influenti:2,instanc:2,intersect:1,introduct:0,k:[1,2],learn:1,librari:1,line:1,load:2,low:2,mean:2,measur:1,model:[1,2],need:1,note:2,observ:1,one:2,oper:1,output:1,over:1,packag:2,placehold:0,plot:2,predict:[1,2],probabl:2,rate:1,receiv:[1,2],relationship:2,result:1,save:1,sensit:1,shap:2,shaplei:2,show:2,specif:1,stroke:1,team:1,thrombolysi:[1,2],togeth:1,top:2,us:2,valu:2,version:2,waterfal:2,when:1,xg:2,xgboost:[1,2]}})